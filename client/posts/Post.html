<template name="Post">
    <div class="card">        
        <div class="post-header">
            <div class="valign-wrapper user-header">
                {{> avatar userId=author shape="circle" size="small"}}
                <span><a class="username" href="/users/{{author}}">{{authorUsername}}</a></span>
            </div>
        </div>

        <div class="post-text">
            {{text}}
        </div>

        {{#if imageInfo}}
            <div class="card-image">
                <img class="responsive-img" src="{{imageInfo.url}}">
            </div>
        {{/if}}
        
        <div class="post-interactions">

            <span class="clickable {{#if userLiked}}un{{/if}}like-toggle">
                <i class="fa fa-heart{{#unless userLiked}}-o{{/unless}}"></i>{{likecount}}
            </span>
            <span class="clickable comment-toggle">
                <i class="fa fa-comment-o"></i>
            </span>
            {{#if belongsToUser}}
                <span class="right">
                    <i class="material-icons clickable remove-button">delete</i>
                </span>
            {{/if}}

            <div><b>{{likeCounter}} likes</b></div>

            <div class="comments-container">
                {{#each comments}}
                    <div>{{> Comment}}</div>
                {{/each}}

                {{> NewComment post=this}}
            </div>
        </div>
    </div>
</template>