<template name="UserProfile">
    <div class="user-profile container">
        <div class="row">
            <div class="col l2 offset-l1">
                {{> avatar user=user shape="circle" size="large"}}
            </div>
            <div class="col l8 offset-l1">
                <div class="valign-wrapper">
                    <h2 class="username">{{user.username}}</h2>
                    {{#if self}}
                        <a class="btn" href="/users/edit">Edit Profile</a>
                    {{else}}
                        {{#if follows}}
                            <button class="btn btn-primary unfollow">Unfollow</button>
                        {{else}}
                            <button class="btn btn-primary follow">Follow</button>
                        {{/if}}
                    {{/if}}
                </div>

                <div>
                    <b>{{posts.length}}</b> posts
                    <b>{{user.profile.following.length}}</b> following
                    <b>{{user.profile.followers.length}}</b> followers
                </div>

                <div>
                    <h3>{{user.profile.name}}</h3>
                </div>
            </div>
        </div>
    
        <div class="row">
            {{#each posts}}
                <div class="col l4 12">
                    {{> Post}}
                </div>
            {{/each}}        
        </div>
    </div>
</template>