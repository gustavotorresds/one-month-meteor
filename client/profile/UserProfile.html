<template name="UserProfile">
    <div class="user-profile container">
        <div class="row">
            <div class="col-lg-2 col-lg-offset-1 large-bottom-margin">
                {{> avatar user=user shape="circle" size="large"}}
            
                <h2 class="username">{{user.username}}</h2>
                
                <div>
                    <b>{{posts.length}}</b> posts
                </div>
                <div>
                    <b>{{user.profile.following.length}}</b> following
                </div>
                <div>
                    <b>{{user.profile.followers.length}}</b> followers
                </div>

                <div>
                    <h3>{{user.profile.name}}</h3>
                </div>

                <div>
                    {{#if self}}
                        <a class="btn btn-default" href="/users/edit">Edit Profile</a>
                    {{else}}
                        {{#if follows}}
                            <button class="btn btn-primary unfollow">Unfollow</button>
                        {{else}}
                            <button class="btn btn-primary follow">Follow</button>
                        {{/if}}
                    {{/if}}
                </div>
            </div>
        
            <div class="col-lg-6">
                {{#if Template.subscriptionsReady}}
                    {{#each posts}}
                        {{> Post}}
                    {{/each}}
                {{else}}
                    {{> Loading}}  
                {{/if}}
            </div>
        </div>
    </div>
</template>